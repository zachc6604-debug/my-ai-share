<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI æ™ºèƒ½åˆ†äº«åŠ©æ‰‹</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 min-h-screen p-4 flex flex-col items-center justify-center">
    <div class="max-w-sm w-full bg-white rounded-2xl shadow-xl overflow-hidden p-6">
        <img id="promoImg" src="https://images.unsplash.com/photo-1519125323398-675f0ddb6308?w=600" class="rounded-xl w-full h-48 object-cover mb-6 shadow-sm">
        
        <div class="space-y-4">
            <h1 class="text-xl font-bold text-gray-800 text-center">AI ä¸“å±è¥é”€æ–‡æ¡ˆ</h1>
            
            <div id="aiText" class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded text-gray-700 text-sm italic min-h-[80px] flex items-center">
                ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ï¼Œè®© AI ç”Ÿæˆæ–‡æ¡ˆ...
            </div>

            <button onclick="askAI()" class="w-full bg-black text-white py-3 rounded-lg font-semibold hover:bg-gray-800 transition">
                ğŸª„ AI é‡æ–°å†™ä¸€æ®µ
            </button>

            <button onclick="share()" class="w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white py-3 rounded-lg font-semibold shadow-md">
                ğŸš€ åˆ†äº«åˆ°ç¤¾äº¤åª’ä½“
            </button>
        </div>
        <p id="status" class="text-xs text-center mt-4 text-gray-400"></p>
    </div>

    <script>
        // ã€å…³é”®ã€‘è¯·åœ¨è¿™é‡Œç²˜è´´ä½ åˆšæ‰åœ¨ Google ç”³è¯·çš„ API Key
        const MY_KEY = "AIzaSyC8Ihvm8l9_vMG5VRskkF8V9-YAy-YXlvg"; 

        async function askAI() {
            const display = document.getElementById('aiText');
            const status = document.getElementById('status');
            display.innerText = "AI æ­£åœ¨æ€è€ƒçˆ†æ¬¾æ–‡æ¡ˆ...";
            
            try {
                const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${MY_KEY}`;
                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: "è¯·ä¸ºè¿™å¼ å›¾ç‰‡å†™ä¸€å¥éå¸¸å¸å¼•äººçš„ Instagram è¥é”€çŸ­æ–‡æ¡ˆã€‚å›¾ç‰‡å†…å®¹æ˜¯ï¼šæµ·è¾¹æƒ¬æ„çš„ä¸‹åˆèŒ¶ã€‚è¯·åŠ ä¸Š Emojiã€‚" }] }]
                    })
                });
                const data = await response.json();
                const aiResult = data.candidates[0].content.parts[0].text;
                display.innerText = aiResult;
                status.innerText = "ç”ŸæˆæˆåŠŸï¼";
            } catch (err) {
                display.innerText = "å“å‘€ï¼ŒAI ç¡ç€äº†ã€‚è¯·æ£€æŸ¥ API Key æ˜¯å¦å¡«å†™æ­£ç¡®ã€‚";
                console.error(err);
            }
        }

        async function share() {
            const text = document.getElementById('aiText').innerText;
            if (navigator.share) {
                try {
                    await navigator.share({
                        title: 'å¥½ç‰©åˆ†äº«',
                        text: text,
                        url: window.location.href
                    });
                } catch (e) { console.log('ç”¨æˆ·å–æ¶ˆåˆ†äº«'); }
            } else {
                alert("æµè§ˆå™¨ä¸æ”¯æŒåˆ†äº«åŠŸèƒ½ï¼Œè¯·åœ¨æ‰‹æœºæµè§ˆå™¨æ‰“å¼€ã€‚");
            }
        }

        // é¦–æ¬¡æ‰“å¼€è‡ªåŠ¨ç”Ÿæˆ
        if(MY_KEY !== "åœ¨è¿™é‡Œç²˜è´´ä½ çš„API_KEY") {
            window.onload = askAI;
        }
    </script>
</body>
</html>
